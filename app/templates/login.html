<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>เข้าสู่ระบบ</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-b from-blue-500 to-blue-200 flex items-center justify-center">
    <div class="bg-white rounded-xl shadow p-6 w-full max-w-sm">
        <h1 class="text-xl font-bold text-center text-gray-800">เข้าสู่ระบบ</h1>

        {% set next_path = request.query_params.get('next', '/dashboard') %}
        {% if request.query_params.get('error') %}
        <div class="mt-3 text-sm text-red-600">ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง</div>
        {% endif %}

        {% if user %}
        <span class="text-white mr-2">สวัสดี, {{ user.name }}</span>
        {% endif %}

        <form method="post" action="/login" class="mt-4 space-y-3">
            <input type="hidden" name="next" value="{{ next_path }}">
            <div>
                <label class="block text-sm mb-1" for="username">ผู้ใช้</label>
                <input id="username" name="username" class="w-full border rounded px-3 py-2" required autofocus>
            </div>
            <div>
                <label class="block text-sm mb-1" for="password">รหัสผ่าน</label>
                <input id="password" name="password" type="password" class="w-full border rounded px-3 py-2" required>
            </div>
            <button class="w-full bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2">เข้าสู่ระบบ</button>
        </form>

        <div class="text-center mt-4">
            <a href="/" class="text-sm text-blue-700 hover:underline">กลับหน้าหลัก</a>
            <!-- เพิ่มในส่วนปุ่มด้านขวา -->
            <a href="/logout" class="bg-white text-blue-700 px-4 py-2 rounded hover:bg-gray-100">ออกจากระบบ</a>
        </div>
    </div>
</body>

</html>